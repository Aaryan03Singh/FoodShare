<!DOCTYPE html>
<html>
  <head>
    <title>Manual Input Component</title>
       <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='main.css') }}">
      <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='input.css') }}">
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />

  </head>

  <body>
    <div class="top">
     <header>
  <nav class="navbar navbar-expand-lg bg-body-tertiary navbar-fixed-top">
    <div class="container-fluid navbar-styling text-center">
        <a class="navbar-brand" href="{{url_for('home')}}">
            <img src="{{ url_for('static', filename='images/symbol.png') }}" alt="Bootstrap" width="30" height="30">
            SustainLink
        </a>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            {% if current_user.is_authenticated %}
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                {% if current_user.role == 'Organization' %}
                <li class="nav-item dropdown-center">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Onlineshop</a>
                     <ul class="dropdown-menu">
                         <li><a class="nav-item nav-link" href="{{url_for('avaliable_products')}}">Available Products</a></li>
                    </ul>
                </li>
                {% endif %}
                {% if current_user.role == 'Store' %}
                <li class="nav-item dropdown-center">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Donations
                    </a>
                    <ul class="dropdown-menu">
                        {% if current_user.role == 'Store' %}
                            <li><a class="nav-item nav-link" href="{{url_for('inventory')}}">Inventory</a></li>
                            <li><a class="nav-item nav-link" href="{{url_for('all_products')}}">All Products</a></li>
                        {% endif %}
                    </ul>
                </li>
                {% endif %}
            </ul>
            {% endif %}
            <div style="margin-left: -13vw">DONATE . REUSE . TRANSFORM</div>
            <ul class="navbar-nav ms-auto">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"aria-expanded="false">
                        <img src="{{ url_for('static', filename='images/person.svg') }}" alt="dropdown-toggle" height="20" width="20">
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end">
                        {% if current_user.is_authenticated %}
                            <li><a class="dropdown-item" href="{{url_for('logout')}}">Logout</a></li>
                            <li><a class="dropdown-item" href="{{url_for('all_products')}}">Profile</a></li>
                        {% else %}
                            <li><a class="dropdown-item" href="{{url_for('login')}}">Login</a></li>
                            <li><a class="dropdown-item" href="{{url_for('register')}}">Register</a></li>
                        {% endif %}
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" role="button" >
                        <img src="{{ url_for('static', filename='images/cart2.svg') }}" alt="dropdown-toggle" height="20" width="20">
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>
</header>
    </div>

    <div class="manual-input">
      <div class="heading">
        <h2 class="centered-heading">Manual Input of Groceries</h2>
      </div>

      <div class="content">
          <div class="product-image">
              <img id="selected-image" style="height:31vh; width:100%; border-radius: 10px;" src="../static/images/default_image.png" alt="Product Image" />
            </div>
        <form method="POST" action="" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
        <div class="product-details">
          <label id="name" for="product-name">{{form.name.label}}</label>
          <!-- <input type="text" id="product-name" name="product_name" required /> -->
          {{form.name()}}
          <label id="brand" for="product-brand">{{form.brand.label}}</label>
          <!-- <input type="text" id="product-brand" name="product_brand" /> -->
          {{form.brand()}}

          <div class="product-quantity">
            <label id="expiry_date" for="expiry-date">{{form.expiry_date.label}}</label>
            {{form.expiry_date()}}
            <label id="quantity" for="product-quantity">{{form.quantity.label}}</label>
            <!-- <input
              type="number"
              id="product-quantity"
              name="product_quantity"
              min="1"
            /> -->
            {{form.quantity()}}
            <!-- <label for="product-unit">Unit:</label>
        <select name="product_unit">
          <option value=""></option> 
          <option value="kilograms">Kilograms (kg)</option>
        <option value="grams">Grams (g)</option>
        <option value="litres">Litres (L)</option>
        <option value="box">Milliliters (mL)</option>
        <option value="box">Pieces (pcs)</option>
        <option value="box">Dozens (dz)</option>
        <option value="box">Units (u)</option>
        <option value="box">Other</option>
      </select> -->
          </div>

          <label id="category"for="product-category">{{form.category.label}}</label>
          <!-- <select name="product_category">
            <option value=""></option>
            <option value="fruits">Fruits</option>
            <option value="vegetables">Vegetables</option>
            <option value="grains">Grains</option>
            <option value="others">Others</option>
          </select>
        </div>
      </div> -->
      {{form.category()}}
            <div class="product-image-upload" onchange="previewImage(event)">
            <label id="image" for="product-image">{{ form.file_image.label }}</label>
                {{ form.file_image() }}
            </div>
      <div class="description">
        <label id="description" for="product-description">{{form.desc.label}}</label>
        <!-- <textarea
          id="product-description"
          name="product_description"
        ></textarea> -->
        {{form.desc()}}
        <!-- <button type="submit">Add Item</button> -->
        <div class="input-group">{{ form.submit(class="button") }}</div>
      </div>
    </form>
    </div>
    <div class="col-md-8">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="alert alert-{{ category }}">
              {{ message }}
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
      {% block content %}
    </div>
          <script>
            function previewImage(event) {
                var input = event.target;
                var reader = new FileReader();
                reader.onload = function () {
                    var dataURL = reader.result;
                    var img = document.getElementById('selected-image');
                    img.src = dataURL;
                    document.getElementById('hidden-file-image').value = dataURL;
                };
                reader.readAsDataURL(input.files[0]);
            }
        </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

  </body>
{% endblock %}
</html>
